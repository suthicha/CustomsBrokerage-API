{"version":3,"sources":["../../src/controller/product.js"],"names":["squel","require","db","httpMsg","helper","exports","getList","req","resp","sql","select","from","where","toString","execCommand","ex","show500","getProduct","taxno","Error","get","id","add","body","data","insert","into","set","StringNull","TaxNumber","GroupCode","Code","TariffClass","TariffSeq","TariffStatCode","InvDesc","DecDesc1","DecDesc2","DecDesc3","DecDesc4","DecDesc5","NumberNull","Degree","CC","CardAmt","Remark","AFTACode","ExciseNo","AnnPrice","IsRawmat","RawCode","RawUnit","FormulaNo","BondNo","BOINo","BOIQuotaCode","BOIQuotaNo","BOIType","Compen","Announce1","Announce2","PermitNo","CommodityAWB","RTCCode","ProductYear","PrivilegeCode","ExportTariff","UNDGNumber","PdtUnitCode","Prate","Srate","Ispermit","Isreexport","IsReImport","IsFreeofChage","IsFreeZone","IsEPZ","PdtAttribute1","PdtAttribute2","ISBOND","IsBOI","FormulaVersion","FormulaCompanyTax","POrigin","ExemtionDutyRate","ExemtionVATRate","RawCodeEx","FormulaVersion19Tavi","FormulaCompanyTax19Tavi","CreateBy","dontQuote","update","length","parseInt","TrxId","table","UpdateBy","delete"],"mappings":"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","file":"product.js","sourcesContent":["var squel = require('squel');\nvar db = require('../core/db');\nvar httpMsg = require('../core/httpMsg');\nvar helper = require('../core/helper');\n\nexports.getList = function(req, resp){\n    try{\n        var sql = squel.select()\n                .from(\"DTM_Product\")\n                .where(\"PdtStatus='A'\")\n                .toString();\n        helper.execCommand(req, resp, sql);\n    }catch(ex){\n        httpMsg.show500(req, resp, ex);\n    }\n}\n\nexports.getProduct = function(req, resp, taxno){\n    try{\n        if (!taxno) throw new Error(\"Input not valid\");\n        var sql = squel.select()\n                .from(\"DTM_Product\")\n                .where(\"PdtStatus='A'\")\n                .where(\"TaxNumber = ?\", taxno)\n                .toString();\n        helper.execCommand(req, resp, sql);\n\n    }catch(ex){\n        httpMsg.show500(req, resp, ex);\n    }\n}\n\nexports.get = function(req, resp, taxno, id){\n    try{\n        if (!id) throw new Error(\"Input not valid\");\n        if (!taxno) throw new Error(\"Input not valid\");\n        \n        var sql = squel.select()\n                .from(\"DTM_Product\")\n                .where(\"PdtStatus='A'\")\n                .where(\"TrxId = ?\", id)\n                .toString();\n        helper.execCommand(req, resp, sql);\n\n    }catch(ex){\n        httpMsg.show500(req, resp, ex);\n    }\n\n}\n\nexports.add = function(req, resp){\n    try{\n        if (!req.body) throw new Error(\"Input not valid\");\n        var data = req.body;\n\n        var sql = squel.insert()\n            .into(\"DTM_Product\")\n            .set(\"TaxNumber\", helper.StringNull(data.TaxNumber))\n            .set(\"GroupCode\", helper.StringNull(data.GroupCode))\n            .set(\"Code\", helper.StringNull(data.Code))\n            .set(\"TariffClass\", helper.StringNull(data.TariffClass))\n            .set(\"TariffSeq\", helper.StringNull(data.TariffSeq))\n            .set(\"TariffStatCode\", helper.StringNull(data.TariffStatCode))\n            .set(\"InvDesc\", helper.StringNull(data.InvDesc))\n            .set(\"DecDesc1\", helper.StringNull(data.DecDesc1))\n            .set(\"DecDesc2\", helper.StringNull(data.DecDesc2))\n            .set(\"DecDesc3\", helper.StringNull(data.DecDesc3))\n            .set(\"DecDesc4\", helper.StringNull(data.DecDesc4))\n            .set(\"DecDesc5\", helper.StringNull(data.DecDesc5))\n            .set(\"Degree\", helper.NumberNull(data.Degree))\n            .set(\"CC\", helper.NumberNull(data.CC))\n            .set(\"CardAmt\", helper.NumberNull(data.CardAmt))\n            .set(\"Remark\", helper.StringNull(data.Remark))\n            .set(\"AFTACode\", helper.StringNull(data.AFTACode))\n            .set(\"ExciseNo\", helper.StringNull(data.ExciseNo))\n            .set(\"LastUpdate\", \"19000101\")\n            .set(\"AnnPrice\", helper.NumberNull(data.AnnPrice))\n            .set(\"IsRawmat\", helper.NumberNull(data.IsRawmat))\n            .set(\"RawCode\", helper.StringNull(data.RawCode))\n            .set(\"RawUnit\", helper.StringNull(data.RawUnit))\n            .set(\"FormulaNo\", helper.StringNull(data.FormulaNo))\n            .set(\"BondNo\", helper.StringNull(data.BondNo))\n            .set(\"BOINo\", helper.StringNull(data.BOINo))\n            .set(\"BOIQuotaCode\", helper.StringNull(data.BOIQuotaCode))\n            .set(\"BOIQuotaNo\", helper.StringNull(data.BOIQuotaNo))\n            .set(\"BOIType\", helper.NumberNull(data.BOIType))\n            .set(\"Compen\", helper.NumberNull(data.Compen))\n            .set(\"Announce1\", helper.StringNull(data.Announce1))\n            .set(\"Announce2\", helper.StringNull(data.Announce2))\n            .set(\"PermitNo\", helper.StringNull(data.PermitNo))\n            .set(\"CommodityAWB\", helper.StringNull(data.CommodityAWB))\n            .set(\"RTCCode\", helper.StringNull(data.RTCCode))\n            .set(\"ProductYear\", helper.StringNull(data.ProductYear))\n            .set(\"PrivilegeCode\", helper.StringNull(data.PrivilegeCode))\n            .set(\"ExportTariff\", helper.StringNull(data.ExportTariff))\n            .set(\"UNDGNumber\", helper.StringNull(data.UNDGNumber))\n            .set(\"PdtUnitCode\", helper.StringNull(data.PdtUnitCode))\n            .set(\"Prate\", helper.NumberNull(data.Prate))\n            .set(\"Srate\", helper.NumberNull(data.Srate))\n            .set(\"Ispermit\", helper.NumberNull(data.Ispermit))\n            .set(\"Isreexport\", helper.NumberNull(data.Isreexport))\n            .set(\"IsReImport\", helper.NumberNull(data.IsReImport))\n            .set(\"IsFreeofChage\", helper.NumberNull(data.IsFreeofChage))\n            .set(\"IsFreeZone\", helper.NumberNull(data.IsFreeZone))\n            .set(\"IsEPZ\", helper.NumberNull(data.IsEPZ))\n            .set(\"PdtAttribute1\", helper.StringNull(data.PdtAttribute1))\n            .set(\"PdtAttribute2\", helper.StringNull(data.PdtAttribute2))\n            .set(\"IsBOND\", helper.NumberNull(data.ISBOND))\n            .set(\"IsBOI\", helper.NumberNull(data.IsBOI))\n            .set(\"FormulaVersion\", helper.StringNull(data.FormulaVersion))\n            .set(\"FormulaCompanyTax\", helper.StringNull(data.FormulaCompanyTax))\n            .set(\"POrigin\", helper.StringNull(data.POrigin))\n            .set(\"ExemtionDutyRate\", helper.NumberNull(data.ExemtionDutyRate))\n            .set(\"ExemtionVATRate\", helper.NumberNull(data.ExemtionVATRate))\n            .set(\"RawCodeEx\", helper.StringNull(data.RawCodeEx))\n            .set(\"FormulaVersion19Tavi\", helper.StringNull(data.FormulaVersion19Tavi))\n            .set(\"FormulaCompanyTax19Tavi\", helper.StringNull(data.FormulaCompanyTax19Tavi))\n            .set(\"CreateBy\", helper.StringNull(data.CreateBy))\n            .set(\"CreateDate\", \"GETDATE()\", { dontQuote: true })\n            .set(\"UpdateBy\", \"\")\n            .set(\"UpdateDate\", \"19000101\")\n            .set(\"PdtStatus\", \"A\")\n            .toString();\n        helper.execCommand(req, resp, sql);\n\n    }catch(ex){\n        httpMsg.show500(req, resp, ex);\n    }\n}\n\nexports.update = function(req, resp){\n\n    try{\n        if (!req.body) throw new Error(\"Input not valid\");\n        \n        if (req.body.length > 1e7) throw new Error(\"Request Entity too Large\");\n\n        var data = req.body;\n        var id = parseInt(data.TrxId);\n\n        var sql = squel.update()\n            .table(\"DTM_Product\")\n            .set(\"TaxNumber\", helper.StringNull(data.TaxNumber))\n            .set(\"GroupCode\", helper.StringNull(data.GroupCode))\n            .set(\"Code\", helper.StringNull(data.Code))\n            .set(\"TariffClass\", helper.StringNull(data.TariffClass))\n            .set(\"TariffSeq\", helper.StringNull(data.TariffSeq))\n            .set(\"TariffStatCode\", helper.StringNull(data.TariffStatCode))\n            .set(\"InvDesc\", helper.StringNull(data.InvDesc))\n            .set(\"DecDesc1\", helper.StringNull(data.DecDesc1))\n            .set(\"DecDesc2\", helper.StringNull(data.DecDesc2))\n            .set(\"DecDesc3\", helper.StringNull(data.DecDesc3))\n            .set(\"DecDesc4\", helper.StringNull(data.DecDesc4))\n            .set(\"DecDesc5\", helper.StringNull(data.DecDesc5))\n            .set(\"Degree\", helper.NumberNull(data.Degree))\n            .set(\"CC\", helper.NumberNull(data.CC))\n            .set(\"CardAmt\", helper.NumberNull(data.CardAmt))\n            .set(\"Remark\", helper.StringNull(data.Remark))\n            .set(\"AFTACode\", helper.StringNull(data.AFTACode))\n            .set(\"ExciseNo\", helper.StringNull(data.ExciseNo))\n            .set(\"LastUpdate\", \"GETDATE()\", { dontQuote: true })\n            .set(\"AnnPrice\", helper.NumberNull(data.AnnPrice))\n            .set(\"IsRawmat\", helper.NumberNull(data.IsRawmat))\n            .set(\"RawCode\", helper.StringNull(data.RawCode))\n            .set(\"RawUnit\", helper.StringNull(data.RawUnit))\n            .set(\"FormulaNo\", helper.StringNull(data.FormulaNo))\n            .set(\"BondNo\", helper.StringNull(data.BondNo))\n            .set(\"BOINo\", helper.StringNull(data.BOINo))\n            .set(\"BOIQuotaCode\", helper.StringNull(data.BOIQuotaCode))\n            .set(\"BOIQuotaNo\", helper.StringNull(data.BOIQuotaNo))\n            .set(\"BOIType\", helper.NumberNull(data.BOIType))\n            .set(\"Compen\", helper.NumberNull(data.Compen))\n            .set(\"Announce1\", helper.StringNull(data.Announce1))\n            .set(\"Announce2\", helper.StringNull(data.Announce2))\n            .set(\"PermitNo\", helper.StringNull(data.PermitNo))\n            .set(\"CommodityAWB\", helper.StringNull(data.CommodityAWB))\n            .set(\"RTCCode\", helper.StringNull(data.RTCCode))\n            .set(\"ProductYear\", helper.StringNull(data.ProductYear))\n            .set(\"PrivilegeCode\", helper.StringNull(data.PrivilegeCode))\n            .set(\"ExportTariff\", helper.StringNull(data.ExportTariff))\n            .set(\"UNDGNumber\", helper.StringNull(data.UNDGNumber))\n            .set(\"PdtUnitCode\", helper.StringNull(data.PdtUnitCode))\n            .set(\"Prate\", helper.NumberNull(data.Prate))\n            .set(\"Srate\", helper.NumberNull(data.Srate))\n            .set(\"Ispermit\", helper.NumberNull(data.Ispermit))\n            .set(\"Isreexport\", helper.NumberNull(data.Isreexport))\n            .set(\"IsReImport\", helper.NumberNull(data.IsReImport))\n            .set(\"IsFreeofChage\", helper.NumberNull(data.IsFreeofChage))\n            .set(\"IsFreeZone\", helper.NumberNull(data.IsFreeZone))\n            .set(\"IsEPZ\", helper.NumberNull(data.IsEPZ))\n            .set(\"PdtAttribute1\", helper.StringNull(data.PdtAttribute1))\n            .set(\"PdtAttribute2\", helper.StringNull(data.PdtAttribute2))\n            .set(\"IsBOND\", helper.NumberNull(data.ISBOND))\n            .set(\"IsBOI\", helper.NumberNull(data.IsBOI))\n            .set(\"FormulaVersion\", helper.StringNull(data.FormulaVersion))\n            .set(\"FormulaCompanyTax\", helper.StringNull(data.FormulaCompanyTax))\n            .set(\"POrigin\", helper.StringNull(data.POrigin))\n            .set(\"ExemtionDutyRate\", helper.NumberNull(data.ExemtionDutyRate))\n            .set(\"ExemtionVATRate\", helper.NumberNull(data.ExemtionVATRate))\n            .set(\"RawCodeEx\", helper.StringNull(data.RawCodeEx))\n            .set(\"FormulaVersion19Tavi\", helper.StringNull(data.FormulaVersion19Tavi))\n            .set(\"FormulaCompanyTax19Tavi\", helper.StringNull(data.FormulaCompanyTax19Tavi))\n            .set(\"UpdateBy\", data.UpdateBy)\n            .set(\"UpdateDate\", \"GETDATE()\", { dontQuote: true })\n            .where(\"TrxId = ?\", id)\n            .toString();\n        helper.execCommand(req, resp, sql);\n\n    }catch (ex) {\n        httpMsg.show500(req, resp, ex);\n    }\n}\n\nexports.delete = function(req, resp){\n    try{\n        if (!req.body) throw new Error(\"Input not valid\");\n        var data = req.body;\n\n        var sql = squel.delete()\n            .from(\"DTM_Product\")\n            .where(\"TrxId = ?\", data.TrxId)\n            .toString();\n        helper.execCommand(req, resp, sql);\n    }catch(ex){\n        httpMsg.show500(req, resp, ex);\n    }\n}"]}